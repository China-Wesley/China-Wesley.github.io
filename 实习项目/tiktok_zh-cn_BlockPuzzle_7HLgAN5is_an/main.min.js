var __reflect=this&&this.__reflect||function(t,e,o){t.__class__=e,o?o.push(e):o=[e],t.__types__=t.__types__?o.concat(t.__types__):o},__extends=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isLoadRes=null,e.isFirst=!0,e.classId=gUiMgr.autoId.id,e.className=e.__proto__.__class__.split(".")[1],e.isFirst=!0,e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.init.apply(this,t),this.isLoadRes||(this.isLoadRes=!0,this.load()),GameMgr.gameview.removeEventListener(gConst.eventType.RESIZE_VIEW,this.resizeView,this),GameMgr.gameview.addEventListener(gConst.eventType.RESIZE_VIEW,this.resizeView,this),GameMgr.gameview.removeEventListener(gConst.eventType.ROTATE_VIEW,this.rotateView,this),GameMgr.gameview.addEventListener(gConst.eventType.ROTATE_VIEW,this.rotateView,this),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirst&&(this.isFirst=!1)},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.destroy=function(){GameMgr.gameview.removeEventListener(gConst.eventType.RESIZE_VIEW,this.resizeView,this),GameMgr.gameview.removeEventListener(gConst.eventType.ROTATE_VIEW,this.rotateView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.isFirst=!1,gComMgr.rmObj(this)},e.prototype.clickInstall=function(t){gameInstall()},e}(eui.Component);t.ComFileBase=e,__reflect(e.prototype,"com.ComFileBase")}(com||(com={}));var ui;!function(t){var e=function(e){function o(){var t=e.call(this)||this;return t.isUiFirstLimit=!0,t.isLoadRes=null,t.isFirstOpen=!0,t.screenType=null,t.mobileType=null,t.classId=gUiMgr.autoId.id,t.isFirstOpen=!0,t}return __extends(o,e),o.prototype.open=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];if(this.className==gConst.className.UI_FIRST)GameMgr.gameview.addChild(this);else{var i=gUiMgr.get(t.UiFirstView);i&&i.parent&&this.isUiFirstLimit?GameMgr.gameview.addChildAt(this,GameMgr.gameview.getChildIndex(i)):GameMgr.gameview.addChild(this)}this.init.apply(this,e),this.isFirstOpen&&this._initResizeView(),this.isLoadRes||(this.isLoadRes=!0,this.load()),this._resizeView(),GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),GameMgr.stage.addEventListener(egret.Event.RESIZE,this._resizeView,this),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},o.prototype.close=function(){gComMgr.rmObj(this),this.dispatchEventWith(gConst.eventType.UI_CLOSE)},o.prototype.show=function(){this.visible=!0},o.prototype.hide=function(){this.visible=!1},o.prototype.destroy=function(){var t=gUiMgr.getByClassName(this.className);t&&(t.removeEventListener(egret.Event.ENTER_FRAME,t.update,t),t.removeEvent(),t=gComMgr.rmObj(t),gUiMgr.destroy(this.className),this.isLoadRes=null)},o.prototype.clickInstall=function(t){gameInstall()},o.prototype.gameEnd=function(){end()},o.prototype._initResizeView=function(){var t,e,o,i=this.isFirstOpen;return window.innerWidth<window.innerHeight?(0===this.screenType&&(i=!0),this.screenType=1,t=750,e=750/window.innerWidth*window.innerHeight,o=window.innerWidth/window.innerHeight):(1===this.screenType&&(i=!0),this.screenType=0,e=750,t=750/window.innerHeight*window.innerWidth,o=window.innerHeight/window.innerWidth),this.width=Math.ceil(t),this.height=Math.ceil(e),this.mobileType=.51>o?1:.65>o?2:3,i},o.prototype._resizeView=function(t){var e=this._initResizeView();this.resizeView(),e&&this.rotateView()},o}(eui.Component);t.UiFileBase=e,__reflect(e.prototype,"ui.UiFileBase")}(ui||(ui={}));var util;!function(t){var e=function(){function t(t){void 0===t&&(t=0),this.newId=0,this.newId=t}return Object.defineProperty(t.prototype,"id",{get:function(){return this.newId++,this.newId},enumerable:!0,configurable:!0}),t}();t.AutoId=e,__reflect(e.prototype,"util.AutoId")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.clickAim=function(t,e,o){switch(void 0===e&&(e=1),gTween.rmTweens(t),e){case 0:var i=t.alpha;gTween.tween(t,void 0,{props:{alpha:0},duration:200,call:{callback:function(){t.visible=!1,t.alpha=i},thisObj:this}});break;case 1:var n=o&&o.x?o.x:t.scaleX,a=o&&o.y?o.y:t.scaleY;egret.Tween.get(t).to({scaleX:.85*n,scaleY:.85*a},200).to({scaleX:n,scaleY:a},200)}},t.prototype.rmObj=function(t){return t&&t.parent&&t.parent.removeChild(t),null},t.prototype.rmEvent=function(t){this.destoryEvent(t.$getEventMap()),this.destoryEvent(t.$getEventMap(!0))},t.prototype.setImgSize=function(t){var e=RES.getRes(t.source);e&&(t.width=e.textureWidth,t.height=e.textureHeight)},t.prototype.setImgAnchor=function(t){this.setImgSize(t);var e=t.width/2,o=t.height/2;t.anchorOffsetX=e,t.anchorOffsetY=o},t.prototype.setItemAnchor=function(t){if(t){var e=RES.getRes(t.source);e&&(t.width=e.textureWidth,t.height=e.textureHeight);var o=t.width/2,i=t.height/2;t.anchorOffsetX=o,t.anchorOffsetY=i;var n=t.parent;n&&(n.width=t.width,n.height=t.height,n.anchorOffsetX=t.anchorOffsetX,n.anchorOffsetY=t.anchorOffsetY),t.x=o,t.y=i}},t.prototype.destory=function(t){return this.rmEvent(t),gTween.rmTweens(t),this.rmObj(t),null},t.prototype.fadeOutDestory=function(t,e,o,i){var n=this;void 0===e&&(e=300);for(var a=[],r=4;r<arguments.length;r++)a[r-4]=arguments[r];gTween.fadeOut(t,e,void 0,void 0,void 0,{callback:function(){n.destory(t),o&&o.call.apply(o,[i].concat(a))}})},t.prototype.destoryEvent=function(t){if(t)for(var e in t){var o=t[e];if(o)for(;o.length;){var i=o.pop();i.target.removeEventListener(i.type,i.listener,i.thisObject,i.useCapture)}}},t.prototype.toLocal=function(t,e,o,i){return t?(e=void 0!=e?e:t.x,o=void 0!=o?o:t.y,t.globalToLocal(e,o,i)):void 0},t.prototype.toGlobal=function(t,e,o,i){return t?t.parent?(e=void 0!=e?e:t.x,o=void 0!=o?o:t.y,t.parent.localToGlobal(e,o,i)):(e=void 0!=e?e:0,o=void 0!=o?o:0,t.localToGlobal(e,o,i)):void 0},t}();t.ComMgr=e,__reflect(e.prototype,"util.ComMgr")}(util||(util={}));var util;!function(t){var e=function(){function e(){this.autoId=new t.AutoId(0),this.uiFilePool={}}return e.prototype.create=function(t){if("string"==typeof t)return this.UiFileEmpty;var e=t.prototype.__class__.split(".")[1];if(ui[e]){var o=this.getByClassName(e);return o||(o=new ui[e],o.className=e,this.uiFilePool[e]=o),o}return this.UiFileEmpty},e.prototype.get=function(t){var e=t.prototype.__class__.split(".")[1];return ui[e]?this.uiFilePool[e]:void 0},e.prototype.getByClassName=function(t){return this.uiFilePool[t]},e.prototype.destroy=function(t){this.uiFilePool[t]=null},Object.defineProperty(e.prototype,"UiFileEmpty",{get:function(){return this.uiFileEmpty||(this.uiFileEmpty=new ui.UiFileEmpty),this.uiFileEmpty},enumerable:!0,configurable:!0}),e}();t.UiMgr=e,__reflect(e.prototype,"util.UiMgr")}(util||(util={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isUiFirstLimit=!0,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.open=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.prototype.open.apply(this,e)},e.prototype.close=function(){t.prototype.close.call(this)},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFileBase);t.UiFile=e,__reflect(e.prototype,"ui.UiFile")}(ui||(ui={}));var com;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(t.ComFileBase);t.ComFile=e,__reflect(e.prototype,"com.ComFile")}(com||(com={}));var util;!function(t){var e=function(){function t(){}return t.prototype.getRandom=function(t,e){return void 0===e&&(e=0),Math.random()*(t-e)+e},t.prototype.getRandomInteger=function(t,e){return void 0===e&&(e=0),Math.floor(this.getRandom(t,e))},t.prototype.getRandomAnswer=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t&&0!=t.length){var o=t.length,i=this.getRandomInteger(o);return t[i]}},t.prototype.getSquarePositive=function(t,e){if(void 0===e&&(e=2),0>e)return void console.warn("此接口一般不开放，如需要开负数次方，推荐使用：getSquare()");for(var o=t,i=0;e>i;i++)o*=t;return o/=t},t.prototype.getSquare=function(t,e){void 0===e&&(e=2);var o=t;return o=Math.pow(t,e)},t.prototype.getDistance=function(t,e,o,i){var n;return n=egret.Point.distance({x:t,y:e},{x:o,y:i}),n=Math.floor(n)},t.prototype.switchNum=function(t,e,o){var i=t+"";if(void 0!=o){var n=o-i.length;if(n>0)for(var a=0;n>a;a++)i="0"+i}if(e){for(var r=i,s=/(\d+)(\d{3})/;s.test(r);)r=r.replace(s,"$1,$2");i=r}return i},t.prototype.getTimeBySpeed=function(t,e,o,i,n){return void 0===o&&(o=t),void 0===i&&(i=e),Math.ceil(1e3*gMath.getDistance(t,e,o,i)/n)},t.prototype.switchHour=function(t,e){void 0===e&&(e=!0);var o,i=e?23:11;return t>i&&(t%=i+1),o=10>t?"0"+t+":00":t+":00"},t.prototype.rotateToDir=function(t){return(t+270)*Math.PI/180},t.prototype.pointToRotate=function(t,e,o,i){var n=Math.atan2(i-e,o-t),a=n*(180/Math.PI);return a+90},t}();t.MathMgr=e,__reflect(e.prototype,"util.MathMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.start=function(t){function e(t){y++,y==r&&o.removeChild(a)}var o=GameMgr.stage,i=GameMgr.stage.stageWidth,n=GameMgr.stage.stageHeight,a=new eui.Group;a.width=i,a.height=n,o.addChild(a);for(var r=40,s=5,c=r/s,h=0;r>h;h++){var l=i/s,p=n/c,d=h%s*l,g=Math.floor(h/s)*p,u=new egret.RenderTexture,f=(u.drawToTexture(o,new egret.Rectangle(d,g,l,p)),new egret.Bitmap);switch(f.texture=u,f.anchorOffsetX=l/2,f.anchorOffsetY=p/2,f.x=d+l/2,f.y=g+p/2,a.addChild(f),5==t&&(t=Math.ceil(4*Math.random())),t){case 1:gTween.tween(f,void 0,{props:{scaleX:0,scaleY:0,alpha:0,rotation:359},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;case 2:var v=-i;h%2||(v=2*i),gTween.tween(f,void 0,{props:{x:v,alpha:0},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;case 3:gTween.tween(f,void 0,{props:{scaleX:.2,scaleY:1,alpha:0,blurFliter:0},duration:800,ease:egret.Ease.backInOut,call:{callback:e,thisObj:this}});break;case 4:gTween.tween(f,void 0,{props:{alpha:0},duration:900,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;default:gTween.tween(f,void 0,{props:{scaleX:1,scaleY:0,alpha:0},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}})}}var y=0},t}();t.ScreenMovies=e,__reflect(e.prototype,"util.ScreenMovies")}(util||(util={}));var util;!function(t){var e=function(){function t(){this.count=0,this.timer=new egret.Timer(1e3)}return t.prototype.shakeObj=function(t,e,o,i,n,a,r){this.target=t,void 0!=a&&(t.x=a),void 0!=r&&(t.y=r),this.initX=t.x,this.initY=t.y,this.maxDisX=i,this.maxDisY=n,this.count=e/1e3*o,this.rate=o,this.timer.delay=1e3/o,this.timer.repeatCount=this.count,this.timer.addEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.timer.reset(),this.timer.start()},t.prototype.shaking=function(){this.target.x=this.initX-this.maxDisX+Math.random()*this.maxDisX*2,this.target.y=this.initY-this.maxDisY+Math.random()*this.maxDisY*2,gTween.tween(this.target,void 0,{props:{x:this.initX,y:this.initY},duration:999/this.rate})},t.prototype.shakeComplete=function(){this.target&&(gTween.rmTweens(this.target),this.target.x=this.initX,this.target.y=this.initY),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.target.dispatchEventWith(egret.Event.COMPLETE)},t.prototype.stop=function(){this.shakeComplete()},t}();t.ShakeTool=e,__reflect(e.prototype,"util.ShakeTool")}(util||(util={}));var util;!function(t){var e=function(){function t(){this.bssoundurl="bm_bgm_mp3",this.isActive=!0,this.isplaying=!1}return t.prototype.init=function(){},t.prototype.changeBg=function(t){window.changeBgMusic&&window.changeBgMusic("resource/assets/sound/"+t+".mp3")},t.prototype.ding=function(){},t.prototype.tap_sound=function(t){try{}catch(t){}},t.prototype.playEff=function(t){window.webIsActivate&&window.playSoundEff&&window.playSoundEff("resource/assets/sound/"+t+".mp3")},t.prototype.stopEff=function(){this.effKey&&this.effKey.stop()},t.prototype.playLoop=function(t){egret.clearTimeout(this.delayInd),this.delayInd=egret.setTimeout(this.playLoop2,this,3e3,t)},t.prototype.playLoop2=function(t){if(!this.isplaying){this.isplaying=!0;var e=RES.getRes(t+"_mp3");this.ch=e.play(0,0),this.ch.volume=.3}},t.prototype.stopLoop=function(){egret.clearTimeout(this.delayInd),this.ch&&(this.ch.stop(),this.ch=null),this.isplaying=!1},t.prototype.regEvent=function(){GameMgr.stage.addEventListener(egret.Event.ACTIVATE,this.on_active,this),GameMgr.stage.addEventListener(egret.Event.DEACTIVATE,this.on_de_active,this),GameMgr.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.tap_sound,this)},t.prototype.on_active=function(t){},t.prototype.on_de_active=function(t){},t.prototype.stopAllStop=function(){window.stopAllStop&&window.stopAllStop()},t.prototype.recoveryAllSound=function(){window.recoveryAllSound&&window.recoveryAllSound()},t.prototype.destory=function(){window.destorySound&&window.destorySound()},t}();t.SoundMgr=e,__reflect(e.prototype,"util.SoundMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.toHeight=function(t,e,o,i,n,a,r){void 0===a&&(a={duration:0}),void 0!=i?t.height=i:i=t.height,this.tween(t,void 0,{props:{height:e},ease:n,wait:a,duration:o,call:r})},t.prototype.toAlpha=function(t,e,o,i,n,a,r){void 0===a&&(a={duration:0}),void 0!=i?t.alpha=i:i=t.alpha,this.tween(t,void 0,{props:{alpha:e},ease:n,wait:a,duration:o,call:r})},t.prototype.toScale=function(t,e,o,i,n,a,r){void 0===a&&(a={duration:0}),void 0!=i?t.scaleX=t.scaleY=i:i=t.scaleX,this.tween(t,void 0,{props:{scaleX:e,scaleY:e},ease:n,wait:a,duration:o,call:r})},t.prototype.toScaleX=function(t,e,o,i,n,a,r){void 0===a&&(a={duration:0}),void 0!=i?t.scaleX=i:i=t.scaleX,this.tween(t,void 0,{props:{scaleX:e},ease:n,wait:a,duration:o,call:r})},t.prototype.toScaleY=function(t,e,o,i,n,a,r){void 0===a&&(a={duration:0}),void 0!=i?t.scaleY=i:i=t.scaleY,this.tween(t,void 0,{props:{scaleY:e},ease:n,wait:a,duration:o,call:r})},t.prototype.toMove=function(t,e,o,i,n,a,r,s,c){void 0===s&&(s={duration:0}),void 0!=n&&(t.x=n),void 0!=a&&(t.y=a),r?void 0==r.y&&(r.y=r.x):r={x:void 0,y:void 0};var h,l;i&&(void 0==i.y?(i.y=i.x,h=c):i.x>i.y?h=c:l=c),this.rmTweens(t),egret.Tween.get(t).to({x:e},i.x,r.x).call(function(){h&&h.callback&&(t=h.callback).call.apply(t,[h.thisObj].concat(h.params));var t}),egret.Tween.get(t).to({y:o},i.y,r.y).wait(s.duration,s.passive).call(function(){l&&l.callback&&(t=l.callback).call.apply(t,[l.thisObj].concat(l.params));var t})},t.prototype.toMoveX=function(t,e,o,i,n,a,r){void 0===a&&(a={duration:0}),void 0!=i&&(t.x=i),this.tween(t,void 0,{props:{x:e},ease:n,wait:a,duration:o,call:r})},t.prototype.toMoveY=function(t,e,o,i,n,a,r){void 0===a&&(a={duration:0}),void 0!=i&&(t.y=i),this.tween(t,void 0,{props:{y:e},ease:n,wait:a,duration:o,call:r})},t.prototype.toBottomShow=function(t,e,o,i,n,a,r){void 0===o&&(o=t.y),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.y-=t.height,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:o,alpha:i},ease:n,wait:a,duration:e,call:r})},t.prototype.toTopHide=function(t,e,o,i,n,a,r){void 0===o&&(o=t.y),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),this.tween(t,void 0,{props:{y:o-t.height,alpha:0},ease:n,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.y=o,t.alpha=i,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toTopShow=function(t,e,o,i,n,a,r){void 0===o&&(o=t.y),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.y+=t.height,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:o,alpha:i},ease:n,wait:a,duration:e,call:r})},t.prototype.toBottomHide=function(t,e,o,i,n,a,r){void 0===o&&(o=t.y),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),this.tween(t,void 0,{props:{y:o+t.height,alpha:0},ease:n,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.y=o,t.alpha=i,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toYShowPhy=function(t,e,o,i,n,a,r,s,c){void 0===i&&(i=t.y),void 0===n&&(n=t.alpha),void 0===a&&(a=egret.Ease.sineOut),void 0===r&&(r=egret.Ease.sineIn),void 0===s&&(s={duration:0}),t.y+=t.height,t.alpha=0,t.visible=!0,egret.Tween.get(t).to({y:i-e,alpha:n},Math.floor(o/2),a).to({y:i},Math.floor(o/4),r).to({y:i-Math.floor(e/6)},Math.floor(o/8),a).to({y:i},Math.floor(o/8),r).wait(s.duration,s.passive).call(function(){c&&c.callback&&c.callback.call(c.thisObj,c.params)},this)},t.prototype.toRightShow=function(t,e,o,i,n,a,r){void 0===o&&(o=t.x),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.x-=t.width,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:o,alpha:i},ease:n,wait:a,duration:e,call:r})},t.prototype.toLeftHide=function(t,e,o,i,n,a,r){void 0===o&&(o=t.x),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),this.tween(t,void 0,{props:{x:o-t.width,alpha:0},ease:n,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.x=o,t.alpha=i,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toLeftShow=function(t,e,o,i,n,a,r){void 0===o&&(o=t.x),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.x+=t.width,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:o,alpha:i},ease:n,wait:a,duration:e,call:r})},t.prototype.toRightHide=function(t,e,o,i,n,a,r){void 0===o&&(o=t.x),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),this.tween(t,void 0,{props:{x:o+t.width,alpha:0},ease:n,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.x=o,t.alpha=i,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toXShowPhy=function(t,e,o,i,n,a,r,s,c){void 0===i&&(i=t.x),void 0===n&&(n=t.alpha),void 0===a&&(a=egret.Ease.sineOut),void 0===r&&(r=egret.Ease.sineIn),void 0===s&&(s={duration:0}),t.x+=t.width,t.alpha=0,t.visible=!0,egret.Tween.get(t).to({x:i-e,alpha:n},Math.floor(o/2),a).to({x:i},Math.floor(o/4),r).to({x:i-Math.floor(e/6)},Math.floor(o/8),a).to({x:i},Math.floor(o/8),r).wait(s.duration,s.passive).call(function(){c&&c.callback&&c.callback.call(c.thisObj,c.params)},this)},t.prototype.toBigShow=function(t,e,o,i,n,a,r){void 0===o&&(o=t.scaleX),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.scaleX=t.scaleY=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:o,scaleY:o,alpha:i},ease:n,wait:a,duration:e,call:r})},t.prototype.toSmallHide=function(t,e,o,i,n,a,r){void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:0,scaleY:0,alpha:0},ease:n,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=o,t.alpha=i,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toSmallShow=function(t,e,o,i,n,a,r,s){void 0===n&&(n=t.alpha),void 0===r&&(r={duration:0}),void 0!=i?t.scaleX=t.scaleY=i:i=t.scaleX,t.scaleX=t.scaleY*=e,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:i,scaleY:i,alpha:n},ease:a,wait:r,duration:o,call:s})},t.prototype.toBigHide=function(t,e,o,i,n,a,r,s){void 0===n&&(n=t.alpha),void 0===r&&(r={duration:0}),void 0!=i?t.scaleX=t.scaleY=i:i=t.scaleX,this.tween(t,void 0,{props:{scaleX:t.scaleX*e,scaleY:t.scaleX*e,alpha:0},ease:a,wait:r,duration:o,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=i,t.alpha=n,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toWidthAddShow=function(t,e,o,i,n,a,r){void 0===o&&(o=t.width),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.width=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{width:o,alpha:i},ease:n,wait:a,duration:e,call:r})},t.prototype.toWidthCutHide=function(t,e,o,i,n,a,r){void 0===o&&(o=t.width),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),this.tween(t,void 0,{props:{width:0,alpha:0},ease:n,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.width=o,t.alpha=i,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toHeightAddShow=function(t,e,o,i,n,a,r){void 0===o&&(o=t.height),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.height=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{height:o,alpha:i},ease:n,wait:a,duration:e,call:r})},t.prototype.toHeightCutHide=function(t,e,o,i,n,a,r){void 0===o&&(o=t.height),void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),this.tween(t,void 0,{props:{height:0,alpha:0},ease:n,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.height=o,t.alpha=i,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.toWidthChange=function(t,e,o,i,n,a,r){void 0===a&&(a={duration:0}),void 0!=i&&(t.width=i),i=t.width,t.visible=!0,this.tween(t,void 0,{props:{width:i+o},ease:n,wait:a,duration:e,call:{callback:function(){t.width<=0&&(t.width=0,t.visible=!1),r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.fadeIn=function(t,e,o,i,n,a){void 0===o&&(o=t.alpha),void 0===n&&(n={duration:0}),t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{alpha:o},ease:i,wait:n,duration:e,call:a})},t.prototype.fadeOut=function(t,e,o,i,n,a){void 0===o&&(o=t.alpha),this.tween(t,void 0,{props:{alpha:0},ease:i,wait:n,duration:e,call:{callback:function(){t.visible=!1,t.alpha=o,a&&a.callback&&(e=a.callback).call.apply(e,[a.thisObj].concat(a.params));var e},thisObj:this}})},t.prototype.loopFloat=function(t,e,o,i,n){void 0===e&&(e=-30),void 0===o&&(o=500),void 0!=i?t.y=i:i=t.y,this.tween(t,{loop:!0},{props:{y:i+e},duration:o},{props:{y:i},duration:o})},t.prototype.loopScale=function(t,e,o,i,n){void 0===e&&(e=1.2),void 0===o&&(o=500),void 0!=i?t.scaleX=t.scaleY=i:i=t.scaleX,this.tween(t,{loop:!0},{props:{scaleX:i*e,scaleY:i*e},duration:o},{props:{scaleX:i,scaleY:i},duration:o})},t.prototype.loopScaleX=function(t,e,o,i,n){void 0===e&&(e=1.2),void 0===o&&(o=500),void 0!=i?t.scaleX=i:i=t.scaleX,this.tween(t,{loop:!0},{props:{scaleX:i*e},duration:o},{props:{scaleX:i},duration:o})},t.prototype.loopScaleY=function(t,e,o,i,n){void 0===e&&(e=1.2),void 0===o&&(o=500),void 0!=i?t.scaleY=i:i=t.scaleY,this.tween(t,{loop:!0},{props:{scaleY:i*e},duration:o},{props:{scaleY:i},duration:o})},t.prototype.loopAlpha=function(t,e,o,i,n){void 0===e&&(e=0),void 0===o&&(o=500),void 0!=i&&(t.alpha=i),i=t.alpha,this.tween(t,{loop:!0},{props:{alpha:i*e},duration:o},{props:{alpha:i},duration:o})},t.prototype.loopRotate=function(t,e,o,i,n){void 0===e&&(e=1),void 0===o&&(o=3600),void 0!=i&&(t.rotation=i),i=t.rotation,this.tween(t,{loop:!0},{props:{rotation:i+360*e},duration:o})},t.prototype.swing=function(t,e,o,i,n,a){void 0===o&&(o=1e3),void 0===a&&(a={duration:0}),void 0!=i?t.rotation=i:i=t.rotation,this.tween(t,{loop:!0},{props:{rotation:i+e},duration:o/2},{props:{rotation:i-2*e},duration:o},{props:{rotation:i},duration:o/2,wait:a})},t.prototype.tween=function(t,e){var o=this;void 0===e&&(e={});for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];this.rmTweens(t);var a=egret.Tween.get(t,e,e.pluginData,e.override);if(!i)return this.rmTweens(t),a;var r=0,s=function(){var t=i[r];t.wait?a.to(t.props,t.duration,t.ease).wait(t.wait.duration,t.wait.passive).call(function(){if(t.call&&t.call.callback&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),r++,r>=i.length)return a;s();var e},o):a.to(t.props,t.duration,t.ease).call(function(){if(t.call&&t.call.callback&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),r++,r>=i.length)return a;s();var e},o)};s()},t.prototype.rmTweens=function(t){t&&egret.Tween.removeTweens(t)},t}();t.TweenMgr=e,__reflect(e.prototype,"util.TweenMgr")}(util||(util={}));var data;!function(t){var e=function(){function t(){}return t.config=function(t){return this._config[t]},t}();e._config={1:{name:"p_hen_left_png",location:"top",x:268,y:160,y2:190,goalX:600,lastLayer:2,scaleX:-.8,scaleY:.8},2:{name:"p_machine1_2_png",location:"top",x:500,y:230,goalX:1238,lastLayer:2},3:{name:"p_machine1_2_png",location:"bottom",x:-108,y:196,goalX:682,lastLayer:1},4:{name:"p_machine2_2_png",location:"bottom",x:684,y:210,goalX:1624,lastLayer:1}},t.EndViewData=e,__reflect(e.prototype,"data.EndViewData")}(data||(data={}));var data;!function(t){var e=function(){function t(){this.horizontal={x:0,y:0},this.vertical={x:0,y:0},this.topSpace=60,this.rightSpace=0,this.bottomSpace=30,this.leftSpace=0,this.horRatio=40,this.horSpace=50,this.verSpace=0,this.center=!0,this.centerOffset=120}return t}();t.FirstData=e,__reflect(e.prototype,"data.FirstData")}(data||(data={}));var data;!function(t){var e=function(){function t(t,e,o,i){void 0===i&&(i=!1),this.fName="1",this.direct=1,this.fName=t,this.frameCnt=e,this.frameName=o,this.backplay=i}return t}();t.McData=e,__reflect(e.prototype,"data.McData")}(data||(data={}));var gConst;!function(t){t.eventType={RESIZE_VIEW:"resizeView",ROTATE_VIEW:"rotateView",GUIDE_TOUCH_ONE:"guide_touch_one",GUIDE_STOP:"guide_stop",IM_COMPLETE:"in_complete",IN_LOOP_COMPLETE:"in_loop_complete",OUT_COMPLETE:"out_complete",OUT_LOOP_COMPLETE:"out_loop_complete",CHOOSE_COMPLETE:"choose_complete",CHOOSE_LOOP_COMPLETE:"choose_loop_complete",ONE_STEP_COMPLETE:"one_step_complete",ONCE_COMPLETE:"once_complete",TOUCH_TAP:"touch_tap",TOUCH_BEGIN:"touch_begin",TOUCH_MOVE:"touch_move",TOUCH_END:"touch_end",SHOW_BLACK:"show_black",HIDE_BLACK:"hide_black",UI_CLOSE:"ui_close",UPGRADE_COMPLETE:"upgrade_complete",GAIN_GOLD:"gain_gold",ACCESS_COMPLETE:"access_complete",FISHER_UP_LV:"fisher_up_lv"},t.direction={CENTER_CENTER:"center_center",LEFT_TOP:"left_top",CENTER_TOP:"center_top",RIGHT_TOP:"right_top",RIGHT_CENTER:"right_center",RIGHT_BOTTOM:"right_bottom",CENTER_BOTTOM:"center_bottom",LEFT_BOTTOM:"left_bottom",LEFT_CENTER:"left_center"},t.skin={UI_EMPTY:"ui_empty",GAME_SCENE:"game_scene",UI_FIRST:"first_view",UI_START:"start_view",UI_TRAN_END:"tran_end_view",UI_END:"end_view",COM_EMPTY:"com_empty",COM_GUIDE:"com_guide"},t.className={UI_EMPTY:"UiFileEmpty",GAME_SCENE:"GameScene",UI_FIRST:"UiFirstView",UI_START:"UiStartView",UI_TRAN_END:"UiTranEndView",UI_END:"UiEndView",UI_CHAT:"UiChatView",UI_CONGRATS:"UiCongratsView",COM_EMPTY:"ComFileEmpty",COM_GUIDE:"ComGuide"},t.mobileByScale=(e={},e[1]=(o={},o[1]=1,o[2]=1,o[3]=.75,o),e[0]=(i={},i[1]=1,i[2]=1,i[3]=.8,i),e);var e,o,i}(gConst||(gConst={}));var gUiMgr=new util.UiMgr,gComMgr=new util.ComMgr,gSoundMgr=new util.SoundMgr,gTween=new util.TweenMgr,gMath=new util.MathMgr,gShake=new util.ShakeTool,gScreenMovies=new util.ScreenMovies,LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canshow=!1,e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),window.app=this,this.createGame()},e.prototype.showGame=function(){gSoundMgr.ding(),this.canshow=!0,this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.canshow&&this.startCreateScene()},e.prototype.createGame=function(){gSoundMgr.init();var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/"),GameMgr.stage=this.stage;var e=egret.getOption("lan");e&&(GameMgr.lan=e)},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.isResourceLoadEnd=!0,this.createScene(),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this))},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(ready(),this.canshow&&this.startCreateScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.startCreateScene=function(){this.currentV||(this.currentV=new MainView,this.addChild(this.currentV)),playing(),egret.startTick(this.dbrun,this)},e.prototype.dbrun=function(t){return dragonBones.WorldClock.clock.advanceTime(.02),!0},e}(eui.UILayer);__reflect(Main.prototype,"Main");var com;!function(t){var e=function(){function t(){}return t.prototype.setData=function(t,e,o,i,n){void 0===i&&(i="armatureName"),this.parent=t,this.resName=e,o&&(this.exitAim={},this.exitAim.aimType=void 0!=o.aimType?o.aimType:0,this.exitAim.wait=void 0!=o.wait?o.wait:0,this.exitAim.time=void 0!=o.time?o.time:300),this.armatureName=i,this.dragonBonesName=n
},t.prototype.play=function(t,e,o){void 0===t&&(t="newAnimation"),void 0===e&&(e=1),this.isComRemve=o,(this.armatureDisplay||(this.create(),this.armatureDisplay))&&this.parent&&(this.armatureDisplay.scaleX=this.armatureDisplay.scaleY=1,this.armatureDisplay.alpha=1,this.parent.addChild(this.armatureDisplay),this.waitPos?(this.setPoint(this.waitPos),this.waitPos=null):this.setPoint({x:this.parent.width/2,y:this.parent.height/2}),void 0==this.waitIndex?this.setIndex(this.waitIndex):(this.setIndex(this.waitIndex),this.waitIndex=null),this.armatureDisplay.addEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.armatureDisplay.animation.play(t,e))},t.prototype.setPoint=function(t){if(t){if(t.x=t.x||0,t.y=t.y||0,!this.armatureDisplay)return void(this.waitPos={x:t.x,y:t.y});this.armatureDisplay.x=t.x,this.armatureDisplay.y=t.y}},t.prototype.setIndex=function(t){return void 0!=t?(t=t||0,this.parent&&this.armatureDisplay?void this.parent.setChildIndex(this.armatureDisplay,t):void(this.waitIndex=t)):void 0},t.prototype.setMask=function(t){this.armatureDisplay&&(this.armatureDisplay.mask=t)},t.prototype.setAlpha=function(t){this.armatureDisplay&&(this.armatureDisplay.alpha=t)},t.prototype.playComplete=function(){this.armatureDisplay.removeEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.exitAim?this.playOutAim():(this.armatureDisplay.dispatchEventWith(egret.Event.COMPLETE),this.isComRemve&&this.remove())},t.prototype.playOutAim=function(){var t,e=this;switch(this.exitAim.aimType){case 0:t={alpha:0};break;case 1:t={scaleX:5,scaleY:5,alpha:0};break;case 2:t={scaleX:0,scaleY:0,alpha:0}}egret.setTimeout(function(){gTween.tween(e.armatureDisplay,void 0,{props:t,duration:e.exitAim.time,call:{callback:function(){e.armatureDisplay.dispatchEventWith(egret.Event.COMPLETE),e.isComRemve&&e.remove()},thisObj:e}})},this,this.exitAim.wait)},t.prototype.remove=function(){gComMgr.rmObj(this.armatureDisplay)},t.prototype.create=function(){if(this.resName){var t=RES.getRes(this.resName+"_ske_json"),e=RES.getRes(this.resName+"_tex_json"),o=RES.getRes(this.resName+"_tex_png");this.factory=new dragonBones.EgretFactory,this.factory.autoSearch=!0,this.factory.addDragonBonesData(this.factory.parseDragonBonesData(t)),this.factory.addTextureAtlasData(this.factory.parseTextureAtlasData(e,o)),this.armatureDisplay=this.factory.buildArmatureDisplay(this.armatureName)}},t.prototype.replaceDisplay=function(t,e,o,i,n,a,r){this.factory.parseDragonBonesData(RES.getRes(t+"_ske_json")),this.factory.parseTextureAtlasData(RES.getRes(t+"_tex_json"),RES.getRes(t+"_tex_png"));var s=this.armatureDisplay.armature.getSlot(a);this.factory.replaceSlotDisplay(e,o,i,n,s,r)},t}();t.ComBones=e,__reflect(e.prototype,"com.ComBones")}(com||(com={}));var GameScene=function(t){function e(){var e=t.call(this)||this;return e.isLoadRes=null,e.isOpenChat=!0,e.skinName=gConst.skin.GAME_SCENE,e.init(),e}return __extends(e,t),e.prototype.init=function(){GameMgr.gameview=this,this.isLoadRes||(this.isLoadRes=!0,this.load()),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent()},e.prototype.load=function(){this.createBones(),gComMgr.setImgAnchor(this.logo),gComMgr.setItemAnchor(this.btn)},e.prototype.start=function(){this.openFirst(),this.conBtn.visible=gConfig.isShowBtn,this.yoyoBtn(),this.gameStart()},e.prototype.update=function(){},e.prototype.addEvent=function(){!gConfig.globalClick&&gConfig.isShowBtn?this.conBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this):this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this),dragonBones.SoundEventManager.getInstance().addEventListener(dragonBones.SoundEvent.SOUND,this.playBonesSound,this)},e.prototype.removeEvent=function(){!gConfig.globalClick&&gConfig.isShowBtn?this.conBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this):this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this),dragonBones.SoundEventManager.getInstance().removeEventListener(dragonBones.SoundEvent.SOUND,this.playBonesSound,this)},e.prototype.gameEnd=function(){end()},e.prototype.createChildren2=function(){},e.prototype.resizeView=function(){this.dispatchEventWith(gConst.eventType.RESIZE_VIEW);var t=this.con,e=this.logo,o=this.conBtn,i=gConfig.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(e.scaleX=e.scaleY=i,1==GameMgr.screenType)switch(t.scaleX=t.scaleY=Math.max(this.width/t.width,this.height/t.height),o.scaleX=o.scaleY=1.2*i,GameMgr.mobileType){case 1:break;case 2:t.scaleX=t.scaleY*=1.08;break;case 3:}else{switch(t.scaleX=t.scaleY=Math.max(this.width/t.height,this.height/t.width),o.scaleX=o.scaleY=1.2*i,GameMgr.mobileType){case 1:break;case 2:t.scaleX=t.scaleY*=1.08;break;case 3:}this.chgBtnH()}},e.prototype.rotateView=function(){this.dispatchEventWith(gConst.eventType.ROTATE_VIEW),1==GameMgr.screenType?(this.playBonesV(),this.chgBtnV()):this.playBonesH(),this.chgLogoAlign()},e.prototype.replay=function(){this.destroy(),GameMgr.init(),GameMgr.gameview=new e,GameMgr.gameview.width=this.width,GameMgr.gameview.height=this.height,GameMgr.gameview.scaleX=GameMgr.gameview.scaleY=GameMgr.scale,GameMgr.gameview.createChildren2(),GameMgr.gameview.resizeView(),GameMgr.gameview.rotateView(),this.parent&&(this.parent.addChild(GameMgr.gameview),this.parent.removeChild(this)),playing()},e.prototype.destroy=function(){this.firstView.destroy(),this.removeEvent()},e.prototype.gameStart=function(){egret.setTimeout(this.gameEnd,this,gConst.endTimer),this.playBones()},e.prototype.chgLogoAlign=function(){var t=gConfig.logoAlignH[GameMgr.screenType],e=this.logo;switch(t){case 1:e.horizontalCenter=0/0,e.right=0/0,e.left=gConfig.logoSpaceH;break;case 2:e.left=0/0,e.right=0/0,e.horizontalCenter=0;break;case 3:e.horizontalCenter=0/0,e.left=0/0,e.right=gConfig.logoSpaceH}e.top=gConfig.logoTop},e.prototype.chgBtnH=function(){if(gConfig.isShowBtn){var t=gConfig.logoAlignH[GameMgr.screenType],e=this.logo,o=this.conBtn,i=(o.anchorOffsetX*o.scaleX,o.anchorOffsetY*o.scaleY),n=e.anchorOffsetX*e.scaleX;e.anchorOffsetY*e.scaleY;switch(o.bottom=0/0,o.horizontalCenter=0/0,t){case 1:o.x=gConfig.logoSpaceH+n;break;case 2:o.x=this.width/2;break;case 3:o.x=this.width-(gConfig.logoSpaceH+n)}o.y=gConfig.logoTop+e.height*e.scaleX+gConfig.logoBtnSpace+i}},e.prototype.chgBtnV=function(){if(gConfig.isShowBtn){var t=this.conBtn;t.bottom="20%",t.horizontalCenter=0}},e.prototype.createBones=function(){this.bones||(this.bones=new com.ComBones,this.bones.setData(this.con,"dragonbone",void 0,"Armature"),this.bones.create(),this.con.width=this.bones.armatureDisplay.height,this.con.height=this.bones.armatureDisplay.width)},e.prototype.playBones=function(){1==GameMgr.screenType?this.playBonesV():this.playBonesH()},e.prototype.playBonesV=function(){this.bones&&this.bones.play("shu",0)},e.prototype.playBonesH=function(){this.bones&&this.bones.play("heng",0)},e.prototype.playBonesSound=function(t){gSoundMgr.playEff(t.sound)},e.prototype.openFirst=function(){this.firstView=gUiMgr.create(ui.UiFirstView),this.firstView.open({horDir:gConst.direction.LEFT_TOP,verDir:gConst.direction.CENTER_TOP},{horDir:gConst.direction.LEFT_TOP,verDir:gConst.direction.CENTER_BOTTOM})},e.prototype.openEnd=function(){GameMgr.ended()||(GameMgr.ended(!0),this.firstView.close())},e.prototype.clickInstall=function(t){gameInstall()},e.prototype.yoyoBtn=function(t){void 0===t&&(t=!0),gConfig.isShowBtn&&(gConst.notEffectModel||window.MW_CONFIG&&"google"==MW_CONFIG.channel||(t?gTween.loopScale(this.btn,.85,500,1):this.isYoyoBtn&&(gTween.rmTweens(this.btn),this.btn.scaleX=this.btn.scaleY=1),this.isYoyoBtn=t))},e}(eui.Component);__reflect(GameScene.prototype,"GameScene");var MainView=function(t){function e(){var e=t.call(this)||this;return GameMgr.init(),e.resizeView(),GameMgr.gameview=new GameScene,e.addChild(GameMgr.gameview),e.resizeView(null,!0),GameMgr.gameview.createChildren2(),GameMgr.stage.addEventListener(egret.Event.RESIZE,e.resizeView,e),e.addEventListener(egret.Event.ENTER_FRAME,e.update,e),e}return __extends(e,t),e.prototype.update=function(t){this.curw!=window.innerWidth&&this.resizeView()},e.prototype.resizeView=function(t,e){void 0===t&&(t=null);var o,i=null===GameMgr.screenType||e;GameMgr.stage.stageWidth<GameMgr.stage.stageHeight?(0===GameMgr.screenType&&(i=!0),GameMgr.screenType=1,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH,o=GameMgr.stage.stageWidth/GameMgr.stage.stageHeight):(1===GameMgr.screenType&&(i=!0),GameMgr.screenType=0,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_HEIGHT,o=GameMgr.stage.stageHeight/GameMgr.stage.stageWidth),GameMgr.mobileType=.51>o?1:.65>o?2:3,this.curw=window.innerWidth;var n,a;window.innerWidth>window.innerHeight?(a=750,n=750/window.innerHeight*window.innerWidth):(n=750,a=750/window.innerWidth*window.innerHeight),GameMgr.gameview&&(GameMgr.gameview.width=Math.ceil(n),GameMgr.gameview.height=Math.ceil(a),GameMgr.gameview.resizeView()),GameMgr.scale=1,i&&this.rotateView()},e.prototype.rotateView=function(){GameMgr.gameview&&GameMgr.gameview.rotateView()},e}(eui.Component);__reflect(MainView.prototype,"MainView");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,o,i){function n(t){e.call(i,t)}function a(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),o.call(i))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=gConst.skin.UI_END,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){this.con_line.visible=!1,1==GameMgr.endType(),gSoundMgr.playEff("sm_succed"),this.playFloor(),this.showFloors(),this.showLogo(),this.showBtn()},e.prototype.update=function(){},e.prototype.addEvent=function(){gConfig.globalClick?this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this):this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.removeEvent=function(){gConfig.globalClick?this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this):this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.resizeView=function(){var t=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.con_shine.scaleX=this.con_shine.scaleY=this.width/this.con_shine.width,1==this.screenType)switch(this.con.scaleX=this.con.scaleY=Math.max(this.width/this.con.width,this.height/this.con.height),this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.con.scaleX=this.con.scaleY=t,this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType?(this.con.bottom=0,this.con.verticalCenter=0/0):(this.con.bottom=0/0,this.con.verticalCenter=-200)},e.prototype.addFloor=function(t,e){this.con_floor=t,this.floor=e;var o=this.con_floor.parent.localToGlobal(this.con_floor.x,this.con_floor.y);this.con.globalToLocal(o.x,o.y,o);this.con.addChildAt(this.con_floor,1)},e.prototype.playFloor=function(){gTween.toScale(this.con_floor,1,1e3,void 0,void 0,void 0,{callback:function(){}})},e.prototype.showFloors=function(){gTween.toYShowPhy(this.floors,100,500,0)},e.prototype.showLogo=function(){var t=this;gTween.toYShowPhy(this.logo,-200,500,0,1,void 0,void 0,void 0,{callback:function(){t.showLine(),t.showParticle()}})},e.prototype.showLine=function(){var t=this;gTween.toBigShow(this.con_line,300,1.5,1,void 0,void 0,{callback:function(){gTween.loopRotate(t.line_0,1,7200),gTween.loopRotate(t.line_1,-1,7200)}})},e.prototype.showParticle=function(){this.particle||(this.particle=new com.ComParticle,this.particle.setData(this.con_line,"star_2"),this.particle.setPos(this.con_line.width/2,this.con_line.height/2)),this.particle.start(500),egret.setTimeout(this.showParticle,this,1500)},e.prototype.showBtn=function(){var t=this;gTween.toYShowPhy(this.btn,200,500,0,1,void 0,void 0,void 0,{callback:function(){t.yoyoBtn(t.btn)}})},e.prototype.yoyoBtn=function(t){gConst.notEffectModel||gTween.loopScale(t,.85,500,1)},e.prototype.swingWord=function(t){gTween.swing(t,3,500,0,void 0,{duration:1e3})},e.prototype.swingPaw=function(t){gTween.swing(t,5,1e3,0)},e}(t.UiFile);t.UiEndView=e,__reflect(e.prototype,"ui.UiEndView")}(ui||(ui={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,o){function i(i){e.call(o,i,t)}if(RES.hasRes(t)){var n=RES.getRes(t);n?i(n):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=gConst.skin.COM_EMPTY,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e}(t.ComFile);t.ComFileEmpty=e,__reflect(e.prototype,"com.ComFileEmpty")}(com||(com={}));var ui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.skinName=gConst.skin.UI_EMPTY},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFile);t.UiFileEmpty=e,__reflect(e.prototype,"ui.UiFileEmpty")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=gConst.skin.UI_FIRST,e}return __extends(e,t),e.prototype.init=function(t,e,o){void 0===o&&(o=!1),void 0!=t&&(this.logoDir=t),void 0!=e&&(this.btnDir=e),this.initLogoS=this.logo.scaleX,this.initBtnS=this.btn_dl.scaleX,this.yoyoBtn(o)},e.prototype.load=function(){this.touchEnabled=!1,this.con_logo.touchEnabled=this.con_logo.touchChildren=!1,this.initItem(this.logo),this.initItem(this.btn_dl),this.logoLoc=new data.FirstData,this.btnLoc=new data.FirstData,this.updateLogoLoc(),this.updateBtnLoc()},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){this.btn_dl.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.removeEvent=function(){this.btn_dl.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickInstall,this)},e.prototype.resizeView=function(){var t=gConst.mobileByScale[this.screenType][this.mobileType];if(this.con_logo.scaleX=this.con_logo.scaleY=this.con_btn.scaleX=this.con_btn.scaleY=t,1==this.screenType)switch(this._updateLogoVer(),this.con_logo.x=this.logoLoc.vertical.x,this.con_logo.y=this.logoLoc.vertical.y,!GameMgr.ended(),this._updateBtnVer(),this.con_btn.x=this.btnLoc.vertical.x,this.con_btn.y=this.btnLoc.vertical.y,this.mobileType){case 1:break;case 2:break;case 3:}else switch(this._updateLogoHor(),this.con_logo.x=this.logoLoc.horizontal.x,this.con_logo.y=this.logoLoc.horizontal.y,this._updateBtnHor(),this.con_btn.y=this.btnLoc.horizontal.y,GameMgr.ended()?this.con_btn.x=this.width/2:this.con_btn.x=this.btnLoc.horizontal.x,this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e.prototype.__updateLogoHorRatio=function(){var t=this,e=function(){t.logoLoc.horizontal.x=Math.floor(t.width*t.logoLoc.horRatio/100/2)},o=function(){t.logoLoc.horizontal.x=Math.floor(t.width/2)},i=function(){t.logoLoc.horizontal.x=Math.floor(t.width*(100-t.logoLoc.horRatio)/100+t.width*t.logoLoc.horRatio/100/2)},n=function(){t.logoLoc.center?t.logoLoc.horizontal.y=Math.floor((t.height-t.logoLoc.horSpace)/2-t.con_logo.height*t.con_logo.scaleX+t.logoLoc.centerOffset):t.logoLoc.topSpace>0&&t.logoLoc.topSpace<1?t.logoLoc.horizontal.y=Math.floor(t.logoLoc.topSpace*t.con_logo.scaleX*t.initLogoS*t.height):t.logoLoc.horizontal.y=Math.floor((t.logoLoc.topSpace+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS)},a=function(){t.btnLoc.bottomSpace>0&&t.btnLoc.bottomSpace<1?t.logoLoc.horizontal.y=Math.floor((1-t.btnLoc.bottomSpace)*t.con_logo.scaleX*t.con_logo.scaleX*t.height):t.btnDir.horDir==t.logoDir.horDir?t.logoLoc.horizontal.y=t.height-Math.floor((t.logoLoc.bottomSpace+t.con_btn.height)*t.con_btn.scaleX*t.initBtnS+(t.logoLoc.horSpace+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS):t.logoLoc.horizontal.y=t.height-Math.floor((t.logoLoc.bottomSpace+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:e.call(this),n.call(this);break;case gConst.direction.LEFT_BOTTOM:e.call(this),a.call(this);break;case gConst.direction.CENTER_TOP:o.call(this),n.call(this);break;case gConst.direction.CENTER_BOTTOM:o.call(this),a.call(this);break;case gConst.direction.RIGHT_TOP:i.call(this),n.call(this);break;case gConst.direction.RIGHT_BOTTOM:i.call(this),a.call(this)}},e.prototype.__updateLogoHor=function(){var t=this,e=function(){t.logoLoc.leftSpace>0&&t.logoLoc.leftSpace<1?t.btnDir.horDir==t.logoDir.horDir?t.logoLoc.horizontal.x=Math.floor(t.logoLoc.leftSpace*t.con_logo.scaleX*t.width+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)):t.logoLoc.horizontal.x=Math.floor(t.logoLoc.leftSpace*t.con_logo.scaleX*t.width+t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS):t.btnDir.horDir==t.logoDir.horDir?t.logoLoc.horizontal.x=Math.floor(t.logoLoc.leftSpace*t.con_logo.scaleX+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)):t.logoLoc.horizontal.x=Math.floor(t.logoLoc.leftSpace*t.con_logo.scaleX+t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS)},o=function(){t.logoLoc.horizontal.x=Math.floor(t.width/2)},i=function(){t.logoLoc.rightSpace>0&&t.logoLoc.rightSpace<1?t.logoLoc.horizontal.x=Math.floor(t.width-(Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)+t.logoLoc.rightSpace*t.con_logo.scaleX*t.width)):t.btnDir.horDir==t.logoDir.horDir?t.logoLoc.horizontal.x=Math.floor(t.width-(Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)+t.logoLoc.rightSpace*t.con_logo.scaleX)):t.logoLoc.horizontal.x=Math.floor(t.width-(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS+t.logoLoc.rightSpace*t.con_logo.scaleX))},n=function(){t.logoLoc.center?t.logoLoc.horizontal.y=Math.floor((t.height-t.logoLoc.horSpace)/2-t.con_logo.height*t.con_logo.scaleX+t.logoLoc.centerOffset):t.logoLoc.topSpace>0&&t.logoLoc.topSpace<1?t.logoLoc.horizontal.y=Math.floor(t.logoLoc.topSpace*t.con_logo.scaleX*t.initLogoS*t.height):t.logoLoc.horizontal.y=Math.floor((t.logoLoc.topSpace+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS)},a=function(){t.btnLoc.bottomSpace>0&&t.btnLoc.bottomSpace<1?t.logoLoc.horizontal.y=Math.floor((1-t.btnLoc.bottomSpace)*t.con_logo.scaleX*t.con_logo.scaleX*t.height):t.btnDir.horDir==t.logoDir.horDir?t.logoLoc.horizontal.y=Math.floor(t.height-((t.logoLoc.bottomSpace+t.con_btn.height)*t.con_btn.scaleX*t.initBtnS+(t.logoLoc.horSpace+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS)):t.logoLoc.horizontal.y=Math.floor(t.height-(t.logoLoc.bottomSpace+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:e.call(this),n.call(this);break;case gConst.direction.LEFT_BOTTOM:e.call(this),a.call(this);break;case gConst.direction.CENTER_TOP:o.call(this),n.call(this);break;case gConst.direction.CENTER_BOTTOM:o.call(this),a.call(this);break;case gConst.direction.RIGHT_TOP:i.call(this),n.call(this);break;case gConst.direction.RIGHT_BOTTOM:i.call(this),a.call(this)}},e.prototype._updateLogoHor=function(){void 0!=this.logoLoc.horRatio?this.__updateLogoHorRatio():this.__updateLogoHor()},e.prototype.__updateLogoVerRatio=function(){var t=this,e=function(){t.logoLoc.leftSpace>0&&t.logoLoc.leftSpace<1?t.logoLoc.vertical.x=Math.floor(t.logoLoc.leftSpace*t.con_logo.scaleX*t.width+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)):t.logoLoc.vertical.x=Math.floor(t.logoLoc.leftSpace*t.con_logo.scaleX+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS))},o=function(){t.logoLoc.vertical.x=t.width/2},i=function(){var e=Math.floor(t.height*t.logoLoc.verRatio/100/2);t.btnDir.verDir==t.logoDir.verDir?t.logoLoc.vertical.y=e-Math.floor((t.logoLoc.verSpace/2+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS):t.logoLoc.vertical.y=e},n=function(){var e=Math.floor(t.height*(100-t.logoLoc.verRatio)/100+t.height*t.logoLoc.verRatio/100/2);t.btnDir.verDir==t.logoDir.verDir?t.logoLoc.vertical.y=e-Math.floor((t.logoLoc.verSpace/2+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS):t.logoLoc.vertical.y=e};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:e.call(this),i.call(this);break;case gConst.direction.LEFT_BOTTOM:e.call(this),n.call(this);break;case gConst.direction.CENTER_TOP:o.call(this),i.call(this);break;case gConst.direction.CENTER_BOTTOM:o.call(this),n.call(this)}},e.prototype.__updateLogoVer=function(){var t=this,e=function(){t.logoLoc.leftSpace>0&&t.logoLoc.leftSpace<1?t.logoLoc.vertical.x=Math.floor(t.logoLoc.leftSpace*t.con_logo.scaleX*t.width+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)):t.logoLoc.vertical.x=Math.floor(t.logoLoc.leftSpace*t.con_logo.scaleX+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS))},o=function(){t.logoLoc.vertical.x=t.width/2},i=function(){t.logoLoc.rightSpace>0&&t.logoLoc.rightSpace<1?t.logoLoc.vertical.x=Math.floor(t.width-(Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)+t.logoLoc.rightSpace*t.con_logo.scaleX*t.width)):t.btnDir.verDir==t.logoDir.verDir?t.logoLoc.vertical.x=Math.floor(t.width-(Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)+t.logoLoc.rightSpace*t.con_logo.scaleX)):t.logoLoc.vertical.x=Math.floor(t.width-(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS+t.logoLoc.rightSpace*t.con_logo.scaleX))},n=function(){t.logoLoc.topSpace>0&&t.logoLoc.topSpace<1?t.logoLoc.vertical.y=Math.floor(t.logoLoc.topSpace*t.con_logo.scaleX*t.initLogoS*t.height):t.logoLoc.vertical.y=Math.floor((t.logoLoc.topSpace+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS)},a=function(){t.btnLoc.bottomSpace>0&&t.btnLoc.bottomSpace<1?t.logoLoc.vertical.y=Math.floor((1-t.btnLoc.bottomSpace)*t.con_logo.scaleX*t.con_logo.scaleX*t.height):t.btnDir.verDir==t.logoDir.verDir?t.logoLoc.vertical.y=Math.floor(t.height-((t.logoLoc.bottomSpace+t.con_btn.height)*t.con_btn.scaleX*t.initBtnS+(t.logoLoc.verSpace+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS)):t.logoLoc.vertical.y=Math.floor(t.height-(t.logoLoc.bottomSpace+t.con_logo.anchorOffsetY)*t.con_logo.scaleX*t.initLogoS)};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:e.call(this),n.call(this);break;case gConst.direction.LEFT_BOTTOM:e.call(this),a.call(this);break;case gConst.direction.CENTER_TOP:o.call(this),n.call(this);break;case gConst.direction.CENTER_BOTTOM:o.call(this),a.call(this);break;case gConst.direction.RIGHT_TOP:i.call(this),n.call(this);break;case gConst.direction.RIGHT_BOTTOM:i.call(this),a.call(this)}},e.prototype._updateLogoVer=function(){void 0!=this.logoLoc.verRatio?this.__updateLogoVerRatio():this.__updateLogoVer()},e.prototype.updateLogoLoc=function(t){if(this.logoLoc||(this.logoLoc=new data.FirstData),t)void 0!=t.horizontal.x&&(this.logoLoc.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(this.logoLoc.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(this.logoLoc.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(this.logoLoc.vertical.y=t.vertical.y);else{if(!this.logoDir)return;this._updateLogoHor(),this._updateLogoVer()}},e.prototype.__updateBtnHorRatio=function(){var t=this,e=function(){t.btnLoc.horizontal.x=Math.floor(t.width*t.btnLoc.horRatio/100/2)},o=function(){t.btnLoc.horizontal.x=Math.floor(t.width/2)},i=function(){t.btnLoc.horizontal.x=Math.floor(t.width*(100-t.btnLoc.horRatio)/100+t.width*t.btnLoc.horRatio/100/2)},n=function(){t.logoLoc.center?t.btnLoc.horizontal.y=Math.floor((t.height+t.btnLoc.horSpace)/2+t.btnLoc.centerOffset):t.btnLoc.topSpace>0&&t.btnLoc.topSpace<1?t.btnLoc.horizontal.y=Math.floor(t.btnLoc.topSpace*t.con_btn.scaleX*t.initBtnS*t.height):t.logoDir.horDir==t.btnDir.horDir?t.btnLoc.horizontal.y=Math.floor((t.logoLoc.topSpace+t.con_logo.height)*t.con_logo.scaleX*t.initLogoS+(t.btnLoc.horSpace+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS):t.btnLoc.horizontal.y=Math.floor((t.btnLoc.topSpace+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS)},a=function(){t.btnLoc.bottomSpace>0&&t.btnLoc.bottomSpace<1?t.btnLoc.horizontal.y=Math.floor((1-t.btnLoc.bottomSpace)*t.con_btn.scaleX*t.initBtnS*t.height):t.btnLoc.horizontal.y=Math.floor(t.height-(t.btnLoc.bottomSpace+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:e.call(this),n.call(this);break;case gConst.direction.LEFT_BOTTOM:e.call(this),a.call(this);break;case gConst.direction.CENTER_TOP:o.call(this),n.call(this);break;case gConst.direction.CENTER_BOTTOM:o.call(this),a.call(this);break;case gConst.direction.RIGHT_TOP:i.call(this),n.call(this);break;case gConst.direction.RIGHT_BOTTOM:i.call(this),a.call(this)}},e.prototype.__updateBtnHor=function(){var t=this,e=function(){t.btnLoc.leftSpace>0&&t.btnLoc.leftSpace<1?t.logoDir.horDir==t.btnDir.horDir?t.btnLoc.horizontal.x=Math.floor(t.btnLoc.leftSpace*t.con_btn.scaleX*t.width+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)):t.btnLoc.horizontal.x=Math.floor(t.btnLoc.leftSpace*t.con_btn.scaleX*t.width+t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS):t.logoDir.horDir==t.btnDir.horDir?t.btnLoc.horizontal.x=Math.floor(t.btnLoc.leftSpace*t.con_btn.scaleX+Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)):t.btnLoc.horizontal.x=Math.floor(t.btnLoc.leftSpace*t.con_btn.scaleX+t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)},o=function(){t.btnLoc.horizontal.x=Math.floor(t.width/2)},i=function(){t.btnLoc.rightSpace>0&&t.btnLoc.rightSpace<1?t.btnLoc.horizontal.x=Math.floor(t.width-(Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)+t.btnLoc.rightSpace*t.con_logo.scaleX*t.width)):t.logoDir.horDir==t.btnDir.horDir?t.btnLoc.horizontal.x=Math.floor(t.width-(Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)+t.btnLoc.rightSpace*t.con_btn.scaleX)):t.btnLoc.horizontal.x=Math.floor(t.width-(t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS+t.btnLoc.rightSpace*t.con_btn.scaleX))},n=function(){t.logoLoc.center?t.btnLoc.horizontal.y=Math.floor((t.height+t.btnLoc.horSpace)/2+t.btnLoc.centerOffset):t.btnLoc.topSpace>0&&t.btnLoc.topSpace<1?t.btnLoc.horizontal.y=Math.floor(t.btnLoc.topSpace*t.con_btn.scaleX*t.initBtnS*t.height):t.logoDir.horDir==t.btnDir.horDir?t.btnLoc.horizontal.y=Math.floor((t.logoLoc.topSpace+t.con_logo.height)*t.con_logo.scaleX*t.initLogoS+(t.btnLoc.horSpace+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS):t.btnLoc.horizontal.y=Math.floor((t.btnLoc.topSpace+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS)},a=function(){t.btnLoc.bottomSpace>0&&t.btnLoc.bottomSpace<1?t.btnLoc.horizontal.y=Math.floor((1-t.btnLoc.bottomSpace)*t.con_btn.scaleX*t.initBtnS*t.height):t.btnLoc.horizontal.y=Math.floor(t.height-(t.btnLoc.bottomSpace+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:e.call(this),n.call(this);break;case gConst.direction.LEFT_BOTTOM:e.call(this),a.call(this);break;case gConst.direction.CENTER_TOP:o.call(this),n.call(this);break;case gConst.direction.CENTER_BOTTOM:o.call(this),a.call(this);break;case gConst.direction.RIGHT_TOP:i.call(this),n.call(this);break;case gConst.direction.RIGHT_BOTTOM:i.call(this),a.call(this)}},e.prototype._updateBtnHor=function(){void 0!=this.btnLoc.horRatio?this.__updateBtnHorRatio():this.__updateBtnHor()},e.prototype.__updateBtnVerRatio=function(){var t=this,e=function(){},o=function(){t.btnLoc.vertical.x=Math.floor(t.width/2)},i=function(){var e=Math.floor(t.height*t.btnLoc.verRatio/100/2);t.logoDir.verDir==t.btnDir.verDir?t.btnLoc.vertical.y=e+Math.floor(t.btnLoc.verSpace/2+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS:t.btnLoc.vertical.y=e},n=function(){var e=Math.floor(t.height*(100-t.btnLoc.verRatio)/100+t.height*t.btnLoc.verRatio/100/2);t.logoDir.verDir==t.btnDir.verDir?t.btnLoc.vertical.y=e+Math.floor(t.btnLoc.verSpace/2+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS:t.btnLoc.vertical.y=e};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:e.call(this),i.call(this);break;case gConst.direction.LEFT_BOTTOM:e.call(this),n.call(this);break;case gConst.direction.CENTER_TOP:o.call(this),i.call(this);break;case gConst.direction.CENTER_BOTTOM:o.call(this),n.call(this)}},e.prototype.__updateBtnVer=function(){var t=this,e=function(){},o=function(){t.btnLoc.vertical.x=t.width/2},i=function(){t.btnLoc.rightSpace>0&&t.btnLoc.rightSpace<1?t.btnLoc.vertical.x=Math.floor(t.width-(Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)+t.btnLoc.rightSpace*t.con_logo.scaleX*t.width)):t.logoDir.verDir==t.btnDir.verDir?t.btnLoc.vertical.x=Math.floor(t.width-(Math.max(t.con_logo.anchorOffsetX*t.con_logo.scaleX*t.initLogoS,t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS)+t.btnLoc.rightSpace*t.con_btn.scaleX)):t.btnLoc.vertical.x=Math.floor(t.width-(t.con_btn.anchorOffsetX*t.con_btn.scaleX*t.initBtnS+t.btnLoc.rightSpace*t.con_btn.scaleX))},n=function(){t.btnLoc.topSpace>0&&t.btnLoc.topSpace<1?t.btnLoc.vertical.y=Math.floor(t.btnLoc.topSpace*t.con_btn.scaleX*t.initBtnS*t.height):t.logoDir.verDir==t.btnDir.verDir?t.btnLoc.vertical.y=Math.floor((t.logoLoc.topSpace+t.con_logo.height)*t.con_logo.scaleX*t.initLogoS+(t.btnLoc.verSpace+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS):t.btnLoc.vertical.y=Math.floor((t.btnLoc.topSpace+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS)},a=function(){t.btnLoc.bottomSpace>0&&t.btnLoc.bottomSpace<1?t.btnLoc.vertical.y=Math.floor((1-t.btnLoc.bottomSpace)*t.con_btn.scaleX*t.initBtnS*t.height):t.btnLoc.vertical.y=Math.floor(t.height-(t.btnLoc.bottomSpace+t.con_btn.anchorOffsetY)*t.con_btn.scaleX*t.initBtnS)};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:e.call(this),n.call(this);break;case gConst.direction.LEFT_BOTTOM:e.call(this),a.call(this);break;case gConst.direction.CENTER_TOP:o.call(this),n.call(this);break;case gConst.direction.CENTER_BOTTOM:o.call(this),a.call(this);
break;case gConst.direction.RIGHT_TOP:i.call(this),n.call(this);break;case gConst.direction.RIGHT_BOTTOM:i.call(this),a.call(this)}},e.prototype._updateBtnVer=function(){void 0!=this.btnLoc.verRatio?this.__updateBtnVerRatio():this.__updateBtnVer()},e.prototype.updateBtnLoc=function(t){if(this.btnLoc||(this.btnLoc=new data.FirstData),t)void 0!=t.horizontal.x&&(this.btnLoc.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(this.btnLoc.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(this.btnLoc.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(this.btnLoc.vertical.y=t.vertical.y);else{if(!this.btnDir)return;this._updateBtnHor(),this._updateBtnVer()}},e.prototype.initItem=function(t){var e=RES.getRes(t.source);e&&(t.width=t.parent.width=e.textureWidth,t.height=t.parent.height=e.textureHeight);var o=t.width/2,i=t.height/2;t.anchorOffsetX=t.parent.anchorOffsetX=o,t.anchorOffsetY=t.parent.anchorOffsetY=i,t.x=o,t.y=i},e.prototype.yoyoBtn=function(t){void 0===t&&(t=!0),gConst.notEffectModel||(t?gTween.loopScale(this.btn_dl,.85,500,1):this.isYoyoBtn&&(gTween.rmTweens(this.btn_dl),this.btn_dl.scaleX=this.btn_dl.scaleY=1),this.isYoyoBtn=t)},e.prototype.gameEnd=function(){t.prototype.gameEnd.call(this),this.btn_dl.source="b_btn_e_png",this.initItem(this.btn_dl),1==this.screenType?this.con_logo.y=this.logoLoc.vertical.y:this.con_btn.x=this.width/2,this.yoyoBtn()},e}(t.UiFile);t.UiFirstView=e,__reflect(e.prototype,"ui.UiFirstView")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=gConst.skin.UI_START,e}return __extends(e,t),e.prototype.init=function(){},e.prototype.load=function(){this.bread.mask=this.mask},e.prototype.start=function(){this.bread.y=53,this.btn.y=477,egret.setTimeout(this.popBread,this,500)},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){var t=gConst.mobileByScale[this.screenType][this.mobileType];if(1==this.screenType)switch(this.con.scaleX=this.con.scaleY=t,this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.con.scaleX=this.con.scaleY=.8*t,this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e.prototype.popBread=function(){gSoundMgr.playEff("sm_ding"),gTween.toMoveY(this.bread,-160,300,53,egret.Ease.backOut),gTween.toMoveY(this.btn,260,100,477)},e}(t.UiFile);t.UiStartView=e,__reflect(e.prototype,"ui.UiStartView")}(ui||(ui={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isGuide=!1,e.skinName=gConst.skin.COM_GUIDE,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.isMC=!1,this.touchEnabled=this.touchChildren=!1,this.hideLight()},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(this.isGuide&&(egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,100)),1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.setMcData=function(t,e,o,i){void 0===e&&(e=1),void 0===o&&(o=0),void 0===i&&(i=0),this.isMC=!0,this.playCnt=e,this.hand.open(),this.hand.setData(t,o,i),this.fName=t[0].fName,this.frameCnt=t[0].frameCnt,this.hand.gotoAndStop(this.fName)},e.prototype.setData=function(t,e,o,i){void 0===i&&(i={}),this.delayTimer=t,this.target_1=e.target_1,this.target_2=e.target_2,this.moveTime=e.moveTime,this.isReturn=e.isReturn,this.parentObj=o,this.diffX=void 0!=i.diffX?i.diffX:0,this.diffY=void 0!=i.diffY?i.diffY:20,this.diffS=void 0!=i.diffS?i.diffS:.9,this.pressT=void 0!=i.pressT?i.pressT:300,this.liftT=void 0!=i.liftT?i.liftT:800,this.waitT=void 0!=i.waitT?i.waitT:500,this.direction=void 0!=i.direction?i.direction:gConst.direction.CENTER_CENTER,this.offX=void 0!=i.offX?i.offX:0,this.offY=void 0!=i.offY?i.offY:0,this.offR=void 0!=i.offR?i.offR:0,this.isBack=void 0!=i.isBack?i.isBack:!1},e.prototype.updateData=function(t){void 0!=t.delayTimer&&(this.delayTimer=t.delayTimer),void 0!=t.targetArg.target_1&&(this.target_1=t.targetArg.target_1),void 0!=t.targetArg.target_2&&(this.target_2=t.targetArg.target_2),void 0!=t.targetArg.moveTime&&(this.moveTime=t.targetArg.moveTime),void 0!=t.targetArg.isReturn&&(this.isReturn=t.targetArg.isReturn),void 0!=t.parentObj&&(this.parentObj=t.parentObj),void 0!=t.prop&&(void 0!=t.prop.diffX&&(this.diffX=t.prop.diffX),void 0!=t.prop.diffY&&(this.diffY=t.prop.diffY),void 0!=t.prop.diffS&&(this.diffS=t.prop.diffS),void 0!=t.prop.pressT&&(this.pressT=t.prop.pressT),void 0!=t.prop.liftT&&(this.liftT=t.prop.liftT),void 0!=t.prop.waitT&&(this.waitT=t.prop.waitT),void 0!=t.prop.direction&&(this.direction=t.prop.direction),void 0!=t.prop.offX&&(this.offX=t.prop.offX),void 0!=t.prop.offY&&(this.offY=t.prop.offY),void 0!=t.prop.offR&&(this.offR=t.prop.offR),void 0!=t.prop.isBack&&(this.isBack=t.prop.isBack))},e.prototype.play=function(){egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,this.delayTimer)},e.prototype.stop=function(){var t=this;egret.clearTimeout(this.guideDelay),this.isGuide&&this&&this.parent&&(this.isGuide=!1,this.hideLight(!0),gTween.fadeOut(this.hand,300,1,void 0,void 0,{callback:function(){gTween.rmTweens(t.hand),gComMgr.rmObj(t),t.hand.alpha=1,t.dispatchEventWith(gConst.eventType.GUIDE_STOP)}}))},e.prototype.stopMC=function(){this.isMC&&this.hand.stop()},e.prototype.reset=function(){this.once(gConst.eventType.GUIDE_STOP,this.start,this),this.stop()},e.prototype.showLight=function(){var t=this;this.light&&(this.light.x=this.initHandX,this.light.y=this.initHandY,this.light.scaleX=this.light.scaleY=1,gTween.fadeIn(this.light,300,1,void 0,void 0,{callback:function(){gTween.loopScale(t.light,.65,(t.pressT+t.liftT+t.waitT)/2,1)}}))},e.prototype.hideLight=function(t){void 0===t&&(t=!1),this.light&&(t?gTween.fadeOut(this.light,300,1):this.light.visible=!1)},e.prototype.showGuide=function(){this.isMC&&this.hand.gotoAndStop(this.fName),this.hand.alpha=1,this.parentObj.addChild(this),this.updateGuideLoc()},e.prototype.updateGuideLoc=function(t){if(void 0===t&&(t=this.target_1),this&&this.parent){var e=t.x-t.anchorOffsetX*t.scaleX,o=t.y-t.anchorOffsetY*t.scaleX,i=t.width*t.scaleX,n=t.height*t.scaleX;switch(this.direction){case gConst.direction.LEFT_TOP:this.rotation=135;break;case gConst.direction.CENTER_TOP:e+=i/2,this.rotation=180;break;case gConst.direction.RIGHT_TOP:e+=i,this.rotation=-135;break;case gConst.direction.RIGHT_CENTER:e+=i,o+=n/2,this.rotation=-90;break;case gConst.direction.RIGHT_BOTTOM:e+=i,o+=n,this.rotation=-45;break;case gConst.direction.CENTER_BOTTOM:e+=i/2,o+=n,this.rotation=0;break;case gConst.direction.LEFT_BOTTOM:o+=n,this.rotation=45;break;case gConst.direction.LEFT_CENTER:o+=n/2,this.rotation=90;break;default:e+=i/2,o+=n/2,this.rotation=0}e+=this.offX*t.scaleX,o+=this.offY*t.scaleX,this.rotation+=this.offR;var a=t.parent.localToGlobal(e,o),r=this.globalToLocal(a.x,a.y,a);this.initHandX=this.hand.x=r.x,this.initHandY=this.hand.y=r.y}},e.prototype.playGuide=function(){var t=this;if(this.showGuide(),this.isGuide=!0,gTween.rmTweens(this.hand),this.hand.alpha=0,this.hand.scaleX=this.hand.scaleY=1,this.hand.visible=!0,this.showLight(),this.target_2){var e=this.initHandX,o=this.initHandY;this.updateGuideLoc(this.target_2);var i=this.initHandX,n=this.initHandY;this.hand.x=e+this.diffX,this.hand.y=o+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var a;a=this.isReturn?{x:e+this.diffX,y:o+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:i,y:n},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(a,t.moveTime):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:e,y:o,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:e+t.diffX,y:o+t.diffY},t.liftT).to({x:i+t.diffX,y:n+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:i,y:n},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:i+t.diffX,y:n+t.diffY},t.liftT).wait(t.waitT).to(a,t.moveTime)},this)}else this.isBack?(this.hand.x=this.initHandX,this.hand.y=this.initHandY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.gotoAndStop(t.fName,2)},t).wait(t.liftT+t.waitT).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndReverse(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName,2)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE])},this)):(this.hand.x=this.initHandX+this.diffX,this.hand.y=this.initHandY+this.diffY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){if(t.isMC)if(t.playCnt>-1){var e=t.playCnt;egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(2*t.frameCnt)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(function(){return t.dispatchEventWith.call(t,gConst.eventType.GUIDE_TOUCH_ONE),e--,0>=e?void t.stop():void 0}).wait(t.waitT)}else t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt);else egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT)},this))},e}(t.ComFile);t.ComGuide=e,__reflect(e.prototype,"com.ComGuide")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.blendMode=egret.BlendMode.ERASE,e.cirleLight=new egret.Shape,e.cirleLight.blendMode=egret.BlendMode.ERASE,e.addChild(e.cirleLight),e}return __extends(e,t),e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.setLightSize=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=t),this.cirleLight.graphics.clear(),this.cirleLight.graphics.beginFill(0),1==e?this.cirleLight.graphics.drawRect(0,0,t,o):this.cirleLight.graphics.drawCircle(0,0,t),this.cirleLight.graphics.endFill(),this.show()},e.prototype.setLightPos=function(t,e){this.cirleLight.x=t,this.cirleLight.y=e},e.prototype.setMaskSize=function(t,e,o){void 0===o&&(o=1),this.graphics.clear(),this.graphics.beginFill(0,o),this.graphics.drawRect(0,0,t,e),this.graphics.endFill()},e}(egret.Sprite);t.ComLightMask=e,__reflect(e.prototype,"com.ComLightMask")}(com||(com={}));var util;!function(t){var e=function(){function t(){}return t.init=function(){this.curStep(1),this.initGuide()},t.curStep=function(t){return void 0==t?this._stepId:void(this._stepId=t)},t.initGuide=function(){for(var t in this.GuideCfg){var e=this.GuideCfg[t];e.finish&&(e.finish=!1)}},t.getGuideById=function(t){return void 0!=t?this.GuideCfg[t]:void 0},t.finishGuide=function(t){var e=this.getGuideById(t);e&&(e.finish=!0)},t}();e.maxStep=3,e._stepId=1,e.GuideCfg={1:{id:1,pos:[430,420,820,440],finish:!1},2:{id:2,pos:[720,280,860,580],finish:!1},3:{id:3,pos:[430,420],finish:!1}},t.GuideMgr=e,__reflect(e.prototype,"util.GuideMgr")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.interval=40,e.playTime=-1,e.isplay=!1,e.isReverse=!1,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.bm=new eui.Image,this.addChild(this.bm)},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.setData=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=0),this.list=t,this.bm.anchorOffsetX=e,this.bm.anchorOffsetY=o},e.prototype.frameCnt=function(){return this.currentData.frameCnt},e.prototype.pixelHitTest=function(t){this.bm.pixelHitTest=t},e.prototype.gotoAndStop=function(t,e){if(void 0===e&&(e=1),this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this)),this.currentFrameName=t,this.currentData=this.getMcDataByAction(t),this.frameIndex=e,this.currentData){var o=this.currentData.frameName.replace("{1}",this.frameIndex.toString());this.bm.source=o}},e.prototype.dispose=function(){this.stop(),this.parent&&this.parent.removeChild(this),this.removeChildren(),this.list=null},e.prototype.gotoAndReverse=function(t,e){if(void 0===e&&(e=-1),this.isReverse=!0,this.currentFrameName=t,this.playTime=e,this.currentData=this.getMcDataByAction(t),this.currentData){this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=-1,this.frameIndex=this.frameCnt();var o=this.currentData.frameName.replace("{1}",this.frameIndex.toString());this.bm.source=o,this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this._update,this))}},e.prototype.gotoAndPlay=function(t,e){if(void 0===e&&(e=-1),this.isReverse=!1,this.currentFrameName=t,this.playTime=e,this.currentData=this.getMcDataByAction(t),this.currentData){this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=1,this.frameIndex=1;var o=this.currentData.frameName.replace("{1}",this.frameIndex.toString());this.bm.source=o,this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this._update,this))}},e.prototype._update=function(t){egret.getTimer()>=this.nextUpdateTime&&this.updateFrame()},e.prototype.updateFrame=function(){this.nextUpdateTime=egret.getTimer()+this.interval,this.dispatchEventWith(gConst.eventType.ONE_STEP_COMPLETE),this.isReverse&&this.frameIndex<1&&(this.stop(),this.dispatchEventWith(egret.Event.COMPLETE));var t=this.currentData.frameName.replace("{1}",this.frameIndex.toString());this.bm.source=t,this.frameIndex+=this.currentData.direct,this.frameIndex>this.frameCnt()?(1==this.currentData.direct&&this.currentData.backplay?(this.frameIndex-=2,this.currentData.direct=-1):this.frameIndex=1,-1==this.playTime||(!this.currentData.backplay||this.currentData.backplay&&this.isReverse)&&(this.playTime--,this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE),0==this.playTime&&(this.stop(),this.dispatchEventWith(egret.Event.COMPLETE)))):this.frameIndex<1&&(-1==this.currentData.direct&&this.currentData.backplay&&(this.frameIndex+=2,this.currentData.direct=1),this.currentData.backplay&&!this.isReverse&&(this.playTime--,this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE),0==this.playTime&&(this.stop(),this.dispatchEventWith(egret.Event.COMPLETE))))},e.prototype.stop=function(){this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this))},e.prototype.getMcDataByAction=function(t){for(var e=0;e<this.list.length;e++)if(this.list[e].fName==t)return this.list[e];return null},e}(t.ComFileBase);t.ComMovieClip=e,__reflect(e.prototype,"com.ComMovieClip")}(com||(com={}));var com;!function(t){var e=function(){function t(){}return t.prototype.create=function(){if(!this.system){var t=RES.getRes(this.resName+"_png"),e=RES.getRes(this.resName+"_json");this.system=new particle.GravityParticleSystem(t,e),this.system.touchEnabled=!1,this.setPos()}this.parent.addChild(this.system)},t.prototype.setData=function(t,e){this.parent=t,this.resName=e,this.create()},t.prototype.start=function(t){this.system.start(t)},t.prototype.stop=function(t){this.system.stop(t)},t.prototype.change=function(t){this.resName=t;var e=RES.getRes(this.resName+"_png");this.system.changeTexture(e)},t.prototype.setIndex=function(t){this.system&&this.system.parent&&this.system.parent.setChildIndex(this.system,t)},t.prototype.setPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.system.x=t,this.system.y=e},t.prototype.setScale=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1),this.system.scaleX=t,this.system.scaleY=e},t.prototype.setRotation=function(t){void 0===t&&(t=0),this.system.rotation=t},t.prototype.updateEmitterX=function(t){this.system.emitterX=t},t.prototype.updateEmitterY=function(t){this.system.emitterY=t},t}();t.ComParticle=e,__reflect(e.prototype,"com.ComParticle")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.rangeX=300,e.rangeY=0,e.goalX=0,e.goalY=0,e.textureName="",e.liziWidth=0,e.liziHeight=0,e.liziScale=1,e.zhongliY=0,e.speedY=1,e.speedRangeY=1,e.speedX=2,e.speedRangeX=2,e.life=1e4,e.createtime=100,e.lizinum=2,e.touchEnabled=e.touchChildren=!1,e}return __extends(e,t),e.prototype.setData=function(t,e,o,i,n,a,r,s,c,h,l,p,d,g,u,f){void 0===c&&(c=0),void 0===h&&(h=2),void 0===l&&(l=1),void 0===p&&(p=2),void 0===d&&(d=2),void 0===g&&(g=1e4),void 0===u&&(u=100),void 0===f&&(f=2),this.lizinum=f,this.rangeX=t,this.rangeY=e,this.goalX=o,this.goalY=i,this.textureName=n,this.liziWidth=a,this.liziHeight=r,this.liziScale=s,this.zhongliY=c,this.speedY=h,this.speedRangeY=l,this.speedX=p,this.speedRangeX=d,this.life=g,this.createtime=u},e.prototype.start=function(){for(var t=0;t<this.lizinum;t++){var e=new o(this.goalX,this.goalY,this.textureName,this.liziWidth,this.liziHeight,this.liziScale,this.zhongliY,this.speedY,this.speedRangeY,this.speedX,this.speedRangeX,this.life);this.addChild(e),e.x=-this.rangeX/2+this.rangeX/2*Math.random(),e.y=-this.rangeY/2+this.rangeY/2*Math.random()}},e}(egret.Sprite);t.ComParticleImitate=e,__reflect(e.prototype,"com.ComParticleImitate");var o=function(t){function e(e,o,i,n,a,r,s,c,h,l,p,d){void 0===s&&(s=0),void 0===c&&(c=1),void 0===h&&(h=1),void 0===l&&(l=1),void 0===p&&(p=1);var g=t.call(this)||this;return g.rangeX=0,g.rangeY=0,g.goalX=0,g.goalY=0,g.zl=0,g.goalX=e,g.goalY=o,g.source=i,g.width=n,g.height=a,g.scaleX=g.scaleY=r-.01+.01*Math.random(),g.speedY=Math.random()*h+c,g.speedX=Math.random()*p+l,g.zl=s,g.life=d,g.addEventListener(egret.Event.ENTER_FRAME,g.update,g),g.createTime=egret.getTimer(),g}return __extends(e,t),e.prototype.play=function(){var t=this;egret.Tween.get(this).to({x:this.goalX,y:this.goalY},2*this.life/5).call(function(){t.parent.removeChild(t),egret.Tween.removeTweens(t)},this)},e.prototype.update=function(){this.alpha-=.01,this.y+=this.speedY,this.x+=this.speedX,egret.getTimer()-this.createTime>=3*this.life/5&&(this.play(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this)),this.speedY+=this.zl},e}(eui.Image);__reflect(o.prototype,"FlyObj")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.moveCount=0,e.hasThrow=!1,e.prePointX=-1,e.prePointY=-1,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.touchEnabled=this.touchChildren=!1},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){GameMgr.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.addScar,this),GameMgr.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.moveEnd,this)},e.prototype.removeEvent=function(){GameMgr.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.addScar,this),GameMgr.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.moveEnd,this)},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.addScar=function(t){if(!this.touchPointID||this.touchPointID==t.touchPointID){this.touchPointID=t.touchPointID,this.moveCount++,!this.hasThrow&&this.moveCount>10&&(this.hasThrow=!0);var e=t.stageX,o=t.stageY;if(this.prePointX>0&&this.prePointY>0){var i=Math.floor(Math.sqrt((this.prePointY-o)*(this.prePointY-o)+(this.prePointX-e)*(this.prePointX-e))),n=57.3*Math.atan((o-this.prePointY)/(e-this.prePointX));this.prePointX<=e&&(i*=-1);var a=new egret.Shape,r=20;a.graphics.lineStyle(r,9421272),a.graphics.moveTo(0,0),a.graphics.lineTo(i,0),a.graphics.endFill(),this.addChild(a),a.x=e,a.y=o,a.anchorOffsetX=4.5,a.rotation=n,gTween.tween(a,void 0,{props:{scaleY:0,alpha:0},duration:300,call:{callback:function(){a=gComMgr.rmObj(a)}}})}this.prePointX=e,this.prePointY=o}},e.prototype.moveEnd=function(t){this.touchPointID=null,this.prePointX=-1,this.prePointY=-1,this.moveCount=0,this.hasThrow=!1},e}(t.ComFile);t.ComScar=e,__reflect(e.prototype,"com.ComScar")}(com||(com={}));var util;!function(t){var e=function(){function t(){}return t}();t.StartMgr=e,__reflect(e.prototype,"util.StartMgr")}(util||(util={}));var data;!function(t){var e=function(){function t(){}return t}();t.ConfigData=e,__reflect(e.prototype,"data.ConfigData")}(data||(data={}));var GameMgr=function(){function t(){}return t.replay=function(){this.gameview.replay()},t.init=function(){this.ended(!1),this.endType(null),this.curStep(1),this.initBoxHole(),util.GuideMgr.init()},t.ended=function(t){return void 0==t?this.isEnd:void(this.isEnd=t)},t.endType=function(t){return void 0===t?this._endType:void(this._endType=t)},t.auto=function(t){return void 0===t?this._auto:void(this._auto=t)},t.curStep=function(t){return void 0==t?this._stepId:void(this._stepId=t)},t.initBoxHole=function(){for(var t in this.boxHole){var e=this.boxHole[t];e.hasKnife&&(e.hasKnife=!1)}},t.getHoleById=function(t){return void 0!=t?this.boxHole[t]:void 0},t.checkHole=function(t,e){return void 0!=this.getHoleId(t,e)},t.getHoleId=function(t,e){for(var o in this.boxHole){var i=this.boxHole[o];if(!i.hasKnife){var n=30,a=60,r=i.pos[0],s=i.pos[1];if(t>=r-n&&r+n>=t&&e>=s-a&&s+a>=e)return i.id}}},t.getNotKnifeId=function(){for(var t in this.boxHole){var e=this.boxHole[t];if(!e.hasKnife)return e.id}},t}();GameMgr.screenType=null,GameMgr.mobileType=null,GameMgr.awardCnt=0,GameMgr.isDrag=!1,GameMgr.lan="us",GameMgr.isReset=!1,GameMgr.isEnd=!1,GameMgr._auto=!1,GameMgr.maxFloor=8,GameMgr.normalFloorY=-1285,GameMgr._stepId=1,GameMgr.boxHole={1:{id:1,pos:[102,237],hasKnife:!1,dire:1},2:{id:2,pos:[248,225],hasKnife:!1,dire:-1},3:{id:3,pos:[132,369],hasKnife:!1,dire:1},4:{id:4,pos:[226,368],hasKnife:!1,dire:-1},5:{id:5,pos:[35,204],hasKnife:!1,dire:1},6:{id:6,pos:[317,207],hasKnife:!1,dire:-1},7:{id:7,pos:[59,341],hasKnife:!1,dire:1},8:{id:8,pos:[301,314],hasKnife:!1,dire:-1}},__reflect(GameMgr.prototype,"GameMgr");