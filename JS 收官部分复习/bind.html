<!--
 * @Author: your name
 * @Date: 2020-03-25 13:55:55
 * @LastEditTime: 2020-03-25 14:11:59
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \JS jQuery源码\JS 收官部分复习\bind.html
 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /*
     * bind 总结
     * 1、函数A调用的bind 方法时 */
    Function.prototype.newBind = function (target) {
      //因为返回的是一个函数   所以
      // 这里的This 指向的是调用bind方法的函数
      var _self = this;
      var args = [].slice.call(arguments, 1);
      //这里截取出来的是 一开始 bind里面传入的参数
      //在这里this其实指向show
      var f = function () {
        // var newShow = show.bind(window, 1, 2, 3);
        // newShow(4, 5, 6)
        var _arg = [].slice.call(arguments, 0);
        // 这里是指newShow传进去的参数 4,5,6
        //这里没有传this参数的话 就会默认指向window
        return _self.apply(target || window, args.concat(_arg));
      };
      return f;
    };


    Function.prototype.bind = function (target) {
      let target = target || window;
      let _arg = [].slice.call(arguments, 0);
      let self = this;
      return function () {
        let _args = [].slice.call(arguments, 1);
      }
    }

    //obj.bind()()

    Function.prototype.bind = function (target) {
      let target = target || window;
      let arg = [].slice.call(arguments, 1);
      let self = this;
      return function () {
        let _arg = arguments;
        return self.apply(target, arg.concat(_arg));
      }
    }

  </script>
</body>

</html>
