<!--
 * @Author: your name
 * @Date: 2020-05-02 11:25:11
 * @LastEditTime: 2020-05-02 12:57:45
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \JS jQuery 源码\React\state属性.html
 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div class="contain"></div>
</body>
<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<!-- 生产环境中不建议使用 -->
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
<script type="text/babel">
  class Like extends React.Component{
    constructor(props){
        super(props)
        //初始化状态
        this.state = {
            isLikeMe: false
        }
        //将新增方法中的 this 强制绑定为 组件对象
        //可以用箭头函数 但是开发环境下 用不了
        this.handleClick = this.handleClick.bind(this);

    }
    //新增方法： 内部的this 默认不是组件对象 而是undefined
    handleClick(){
        //每次点击都取反 
        const isLikeMe = !this.state.isLikeMe;
        //更新状态有专门的方法
        this.setState({isLikeMe})
    }
    //重写组件的方法
    render(){
        //读取状态
        const {isLikeMe} = this.state
        //为组件标签绑定事件 onClick 注意大小写 这是react重新定义的
        return <h1 onClick = {this.handleClick}>{isLikeMe ? '他喜欢我' : '我喜欢他'}</h1>
        }
    }

    ReactDOM.render(<Like/>, document.getElementsByClassName('contain')[0]);

    
</script>

</html>
